<div class="flex justify-center items-center py-10 bg-black min-h-screen">
<div class="bg-neutral-900 rounded-3xl shadow-[0_0_40px_5px_rgba(0,255,255,0.1)] p-8 w-[30rem] flex flex-col justify-between border border-neutral-800">

<!-- Screen -->
<div class="bg-neutral-800 rounded-xl p-4 mb-6 shadow-inner min-h-[100px] flex flex-col justify-end" data-testid="screen">
  <div class="text-right text-gray-400 text-base" data-testid="expression-display">{{ currentExpression }}</div>
  <div class="text-right text-5xl font-semibold text-white tracking-wide" data-testid="result-display">{{ displayValue || '0' }}</div>
</div>

<!-- Buttons -->
<div class="flex flex-col gap-4 text-white font-semibold select-none">

  <div class="flex gap-4">
    <button
      (click)="clearAll()"
      data-testid="button-C"
      class="flex-1 py-6 rounded-xl bg-neutral-700 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-lg">
      C
    </button>
    <button
      (click)="deleteLast()"
      data-testid="button-DEL"
      class="flex-1 py-6 rounded-xl bg-neutral-700 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-lg">
      DEL
    </button>
    <button
      (click)="pressOperator('/')"
      data-testid="button-/"
      class="flex-1 py-6 rounded-xl bg-neutral-700 text-cyan-400 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-xl">
      /
    </button>
    <button
      (click)="pressOperator('*')"
      data-testid="button-*"
      class="flex-1 py-6 rounded-xl bg-neutral-700 text-cyan-400 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-xl">
      *
    </button>
  </div>

  <div class="flex gap-4">
    <button
      (click)="pressNumber('7')"
      data-testid="button-7"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      7
    </button>
    <button
      (click)="pressNumber('8')"
      data-testid="button-8"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      8
    </button>
    <button
      (click)="pressNumber('9')"
      data-testid="button-9"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      9
    </button>
    <button
      (click)="pressOperator('-')"
      data-testid="button--"
      class="flex-1 py-6 rounded-xl bg-neutral-700 text-cyan-400 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-xl">
      -
    </button>
  </div>

  <div class="flex gap-4">
    <button
      (click)="pressNumber('4')"
      data-testid="button-4"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      4
    </button>
    <button
      (click)="pressNumber('5')"
      data-testid="button-5"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      5
    </button>
    <button
      (click)="pressNumber('6')"
      data-testid="button-6"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      6
    </button>
    <button
      (click)="pressOperator('+')"
      data-testid="button-+"
      class="flex-1 py-6 rounded-xl bg-neutral-700 text-cyan-400 hover:bg-neutral-600 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-xl">
      +
    </button>
  </div>

  <!-- Czwarty rząd -->
  <div class="flex gap-4">
    <button
      (click)="pressNumber('1')"
      data-testid="button-1"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      1
    </button>
    <button
      (click)="pressNumber('2')"
      data-testid="button-2"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      2
    </button>
    <button
      (click)="pressNumber('3')"
      data-testid="button-3"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      3
    </button>
    <button
      (click)="calculate()"
      data-testid="button-calculate"
      class="flex-1 py-6 rounded-xl bg-cyan-700 text-white hover:bg-cyan-600 active:shadow-[0_0_25px_3px_#00ffff] transition-all duration-200 text-2xl">
      =
    </button>
  </div>

  <!-- Piąty rząd -->
  <div class="flex gap-4">
    <button
      (click)="pressNumber('0')"
      data-testid="button-0"
      class="flex-[2] py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl text-left pl-6">
      0
    </button>
    <button
      (click)="pressNumber('.')"
      data-testid="button-dot"
      class="flex-1 py-6 rounded-xl bg-neutral-800 hover:bg-neutral-700 active:shadow-[0_0_15px_2px_#00ffff] transition-all duration-200 text-2xl">
      .
    </button>
  </div>
</div>


</div>
</div>
@if(showErrorModal)
{
<app-error-modal
[message]="errorModalMessage"
(close)="closeErrorModal()"
data-testid="error-modal">
</app-error-modal>
}